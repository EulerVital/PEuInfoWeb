IF EXISTS (SELECT * FROM SYS.procedures WHERE NAME = 'USP_INS_ADM')
BEGIN
	DROP PROC USP_INS_ADM
END
GO

CREATE PROC USP_INS_ADM
	 @Id INT = NULL
	,@Nome VARCHAR(100) = NULL
	,@Email VARCHAR(200) = NULL
	,@Senha VARCHAR(100) = NULL
AS
BEGIN
	IF @Id IS NULL
	BEGIN
		INSERT INTO
			TB_ADM
		VALUES
		(
			 @Nome
			,LOWER(@Email)
			,@Senha
		)
	END
	ELSE
	BEGIN
		UPDATE TB_ADM SET
			 NOME = @Nome
			,EMAIL = LOWER(@Email)
			,SENHA = @Senha
		WHERE
			ID = @Id
	END
END
GO